{% extends 'base.html' %}

<!-- include crispy -->
{% load crispy_forms_tags %}

{% block title %}Answer survey{% endblock %}

{% block content %}
    <form action="." method="post">

        <!-- use this like any Survey or PI object .any_class_variable -->
        <div class="d-flex justify-content-between flex-wrap flex-sm-nowrap align-items-center pb-2 mb-3 border-bottom">
            <h3> Survey: {{ survey }}</h3>
        </div>
        <div class="col-md-12 alert alert-info survey-description" role="alert">
            <h5> Question: {{ question }} </h5>
        </div>

        <br>

        <div class="col-sm-8 offset-sm-2">
            {% csrf_token %}
            {% for ch in choice_set %}
                <input hidden id='choice_{{ch.id}}' name="choices" type="{% if question.type == 'M' %}checkbox{% elif question.type == 'S'%}radio{% elif question.type == 'T' %}text{% endif%}" value="{{ch.id}}">
                 <label for="choice_{{ch.id}}" class="btn btn-secondary btn-block text-wrap text-break" style="height: 100px;">{{ ch }}</label>
            {% endfor %}
            <br>
        </div>
        <div class="col-md-12">
            <button type="submit" class="btn btn-block btn-primary ">Answer</button>
        </div>
    </form>
    <!-- TODO: make buttons change colour depending on the current answer -->
{% endblock %}
